@model IEnumerable<PeojectTWI.Data.tblTicket>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Assign Ticket</h2>
@if (Model.Any())
{
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.TicketDiscription)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CreatedDate)
            </th>
            <th>
                Status
            </th>
            <th>
                @Html.DisplayNameFor(model => model.OpenedDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ClosedDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.tblCoustomerDetail.CoustomerName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.tblInventoryData.SerialNumber)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.TicketDiscription)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CreatedDate)
                </td>
                <td>
                    @if (item.IsOpen == null)
                    {
                        <text>Pending</text>
                    }
                    else if (item.IsOpen == true)
                    {
                        <text>open</text>
                    }
                    else
                    {
                        <text>Closed</text>
                    }

                </td>

                <td>
                    @if (item.OpenedDate == null)
                    {
                        <text>Not Opened</text>
                    }
                    else
                    {
                        @Html.DisplayFor(modelItem => item.OpenedDate)
                    }
                </td>
                <td>
                    @if (item.ClosedDate == null)
                    {
                        <text>Not Closed</text>
                    }
                    else
                    {
                        @Html.DisplayFor(modelItem => item.ClosedDate)
                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.tblCoustomerDetail.CoustomerName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.tblInventoryData.SerialNumber)
                </td>
                <td>

                    @Html.ActionLink("Assigned", "AssignTicketTolevel", new { Ticketid = item.TicketId })

                </td>
            </tr>
        }

    </table>
}
else
{
<div class="row-cols-12" style="align-items:center"> 

    <p style="text-align:center; font-weight:bold; color:red; font-size:24Px;">No Tickets Available for Assign</p>

</div>
   
}